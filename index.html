<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PataNaEstrada üêæ | Viaje com seu pet</title>
  <meta name="description" content="Encontre locais pet-friendly em sua viagem. Restaurantes, hot√©is, postos e parques que amam pets.">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4f8;
      color: #2d3748;
    }

    /* ==================== */
    /* CABE√áALHO */
    /* ==================== */
    header {
      background: linear-gradient(135deg, #4a7c59, #3a5a40);
      color: white;
      text-align: center;
      padding: 1.8rem 1rem;
    }

    header h1 {
      font-size: 2.3rem;
      font-weight: 700;
    }

    header p {
      font-size: 1.1rem;
      opacity: 0.9;
      margin-top: 0.4rem;
    }

    /* ==================== */
    /* FILTROS DO MAPA */
    /* ==================== */
    .filters-container {
      max-width: 1200px;
      margin: 1.5rem auto;
      padding: 0 1rem;
    }

    .filters {
      display: flex;
      flex-wrap: wrap; /* Permite que os bot√µes quebrem linha */
      gap: 10px; /* Espa√ßamento uniforme entre bot√µes */
      justify-content: center; /* Centraliza os bot√µes */
      background: white;
      border-radius: 50px;
      padding: 16px 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .filter-btn {
      background: #f8f9fa;
      border: none;
      padding: 10px 16px;
      border-radius: 30px;
      font-size: 0.95rem;
      color: #4a5568;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap; /* Impede que o texto quebre */
    }

    .filter-btn.active {
      background: #4a7c59;
      color: white;
      font-weight: 500;
    }

    /* ==================== */
    /* MAPA */
    /* ==================== */
    .map-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem 2rem;
      box-shadow: 0 8px 24px rgba(0,0,0,0.12);
      border-radius: 16px;
      overflow: hidden;
    }

    #map {
      width: 100%;
      height: 650px;
      border-radius: 12px;
    }

    /* ==================== */
    /* DICAS DO DIA */
    /* ==================== */
    .tips-section {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    .tip-card {
      background: linear-gradient(135deg, #d4a574, #c08b57);
      color: white;
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .tip-title {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
    }

    .tip-content {
      font-size: 1rem;
      opacity: 0.9;
    }

    /* ==================== */
    /* LUGARES AMIGOS */
    /* ==================== */
    .places-section {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    .section-title {
      text-align: center;
      font-size: 1.8rem;
      color: #2d3748;
      margin-bottom: 1.2rem;
      font-weight: 600;
    }

    .places-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .place-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      border: 1px solid #eee;
      padding: 1rem;
    }

    .place-name {
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 0.3rem;
    }

    .place-type {
      font-size: 0.9rem;
      color: #4a7c59;
      margin-bottom: 0.5rem;
    }

    .place-desc {
      font-size: 0.9rem;
      color: #555;
      line-height: 1.5;
      margin-bottom: 0.8rem;
    }

    .feedback {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 0.5rem;
    }

    .btn-like, .btn-dislike {
      background: none;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .btn-like:hover {
      transform: scale(1.2);
      color: #4a7c59;
    }

    .btn-dislike:hover {
      transform: scale(1.2);
      color: #e74c3c;
    }

    .btn-like {
      color: #4a7c59;
    }

    .btn-dislike {
      color: #e74c3c;
    }

    /* ==================== */
    /* RECOMENDADOS */
    /* ==================== */
    .recommend-filters {
      display: flex;
      flex-wrap: wrap; /* Responsivo */
      justify-content: center;
      gap: 10px;
      margin-bottom: 1rem;
      padding: 0 1rem;
    }

    .filter-reco {
      background: #f8f9fa;
      border: none;
      padding: 8px 16px;
      border-radius: 30px;
      font-size: 0.95rem;
      color: #4a5568;
      cursor: pointer;
      white-space: nowrap;
    }

    .filter-reco.active {
      background: #d4a574;
      color: white;
      font-weight: 500;
    }

    .recommendations {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1rem;
      padding: 0 1rem;
    }

    .recommend-card {
      background: white;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      border: 1px solid #eee;
    }

    .recommend-name {
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 0.3rem;
    }

    .recommend-type {
      font-size: 0.9rem;
      color: #4a7c59;
      margin-bottom: 0.5rem;
    }

    .recommend-desc {
      font-size: 0.9rem;
      color: #555;
      line-height: 1.5;
    }

    /* ==================== */
    /* RODAP√â */
    /* ==================== */
    footer {
      text-align: center;
      padding: 2rem 1rem;
      background: #1a202c;
      color: #e2e8f0;
      margin-top: 2rem;
    }

    footer p {
      font-size: 0.95rem;
    }

    /* ==================== */
    /* MARCADORES COM EMOJIS */
    /* ==================== */
    .custom-marker {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .marker-emoji {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 18px;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.25);
      border: 2px solid white;
      text-align: center;
      line-height: 1;
      transition: all 0.3s ease;
    }

    .marker-emoji:hover {
      transform: scale(1.2);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.35);
    }

    /* ANIMA√á√ÉO PARA √çCONE MULTI-FUN√á√ÉO */
    .marker-multi {
      animation: pulse 2s infinite ease-in-out;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
  </style>
</head>
<body>

  <!-- CABE√áALHO -->
  <header>
    <h1>üêæ PataNaEstrada</h1>
    <p>Seu guia de viagens com seu pet pelo Brasil</p>
  </header>

  <!-- FILTROS DO MAPA -->
  <div class="filters-container">
    <div class="filters">
      <button class="filter-btn active" data-filter="all">üìç Todos</button>
      <button class="filter-btn" data-filter="bar-restaurante">üçΩÔ∏è Bar e Restaurante</button>
      <button class="filter-btn" data-filter="rodovia-br">üõ£Ô∏è Rodovia BR</button>
      <button class="filter-btn" data-filter="shopping">üõí Shopping</button>
      <button class="filter-btn" data-filter="hotel">üõèÔ∏è Hot√©is & Pousadas</button>
      <button class="filter-btn" data-filter="clinica">üè• Cl√≠nicas</button>
      <button class="filter-btn" data-filter="banho-tosa">üõÅ Banho & Tosa</button>
      <button class="filter-btn" data-filter="acessorios">üõçÔ∏è Acess√≥rios</button>
      <button class="filter-btn" data-filter="laboratorio">üî¨ Laborat√≥rio</button>
    </div>
  </div>

  <!-- MAPA -->
  <div class="map-container">
    <div id="map"></div>
  </div>

  <!-- DICAS DO DIA -->
  <div class="tips-section">
    <div class="tip-card">
      <h3 class="tip-title">üí° Dica do Dia</h3>
      <p class="tip-content">Leve sempre √°gua, tigela port√°til e uma toalha para seu pet. Evite viagens nas horas mais quentes do dia!</p>
    </div>
  </div>

  <!-- LUGARES AMIGOS -->
  <div class="places-section">
    <h2 class="section-title">üè° Lugares Amigos</h2>
    <div class="places-grid" id="places-list">
      <!-- Preenchido dinamicamente -->
    </div>
  </div>

  <!-- RECOMENDADOS -->
  <div class="info-section">
    <h2 class="section-title">üåü Recomendados para sua viagem</h2>

    <div class="recommend-filters">
      <button class="filter-reco active" data-reco="all">Todos</button>
      <button class="filter-reco" data-reco="bar-restaurante">üçΩÔ∏è Bar e Restaurante</button>
      <button class="filter-reco" data-reco="rodovia-br">üõ£Ô∏è Rodovia BR</button>
      <button class="filter-reco" data-reco="shopping">üõí Shopping</button>
      <button class="filter-reco" data-reco="hotel">üõèÔ∏è Hot√©is & Pousadas</button>
      <button class="filter-reco" data-reco="clinica">üè• Cl√≠nicas</button>
      <button class="filter-reco" data-reco="banho-tosa">üõÅ Banho & Tosa</button>
      <button class="filter-reco" data-reco="acessorios">üõçÔ∏è Acess√≥rios</button>
      <button class="filter-reco" data-reco="laboratorio">üî¨ Laborat√≥rio</button>
    </div>

    <div class="recommendations" id="recommendations-list">
      <!-- Preenchido dinamicamente -->
    </div>
  </div>

  <!-- RODAP√â -->
  <footer>
    <p><strong>PataNaEstrada</strong> ‚Äì Feito com amor para tutores e seus pets viajantes.</p>
    <p>¬© 2025 ‚Ä¢ Um projeto para tornar o Brasil mais pet-friendly.</p>
  </footer>

  <!-- LEAFLET JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

  <script>
    // === √çCONES COM EMOJIS E CORES POR CATEGORIA ===
    const icons = {
      'bar-restaurante': L.divIcon({
        className: 'custom-marker',
        html: `<div class="marker-emoji" style="background: #4a7c59;">üçΩÔ∏è</div>`,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      }),
      'rodovia-br': L.divIcon({
        className: 'custom-marker',
        html: `<div class="marker-emoji" style="background: #2c3e50;">üõ£Ô∏è</div>`,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      }),
      shopping: L.divIcon({
        className: 'custom-marker',
        html: `<div class="marker-emoji" style="background: #8e44ad;">üõí</div>`,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      }),
      hotel: L.divIcon({
        className: 'custom-marker',
        html: `<div class="marker-emoji" style="background: #d4a574;">üõèÔ∏è</div>`,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      }),
      clinica: L.divIcon({
        className: 'custom-marker',
        html: `<div class="marker-emoji" style="background: #e74c3c;">üè•</div>`,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      }),
      'banho-tosa': L.divIcon({
        className: 'custom-marker',
        html: `<div class="marker-emoji" style="background: #3498db;">üõÅ</div>`,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      }),
      acessorios: L.divIcon({
        className: 'custom-marker',
        html: `<div class="marker-emoji" style="background: #9b59b6;">üõçÔ∏è</div>`,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      }),
      laboratorio: L.divIcon({
        className: 'custom-marker',
        html: `<div class="marker-emoji" style="background: #3b5998;">üî¨</div>`,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      })
    };

    // Fun√ß√£o para gerar √≠cone multi-fun√ß√£o din√¢mico com base nos tipos do local
    function createMultiIcon(tipos) {
      // Mapeia tipos para emojis
      const emojiMap = {
        'bar-restaurante': 'üçΩÔ∏è',
        'rodovia-br': 'üõ£Ô∏è',
        'shopping': 'üõí',
        'hotel': 'üõèÔ∏è',
        'clinica': 'üè•',
        'banho-tosa': 'üõÅ',
        'acessorios': 'üõçÔ∏è',
        'laboratorio': 'üî¨'
      };

      // Coleta emojis dos tipos fornecidos
      const emojis = tipos.map(t => emojiMap[t]).filter(e => e);

      // Define layout din√¢mico
      let gridTemplateColumns = '1fr';
      let gridTemplateRows = '1fr';
      let padding = '6px';

      if (emojis.length === 2) {
        gridTemplateColumns = '1fr 1fr';
        gridTemplateRows = '1fr';
        padding = '4px';
      } else if (emojis.length >= 3) {
        gridTemplateColumns = '1fr 1fr';
        gridTemplateRows = '1fr 1fr';
        padding = '2px';
      }

      // Monta os elementos de grid
      let innerHTML = '';
      emojis.forEach((emoji, index) => {
        innerHTML += `<div style="justify-self: center; align-self: center;">${emoji}</div>`;
      });

      // Retorna o √≠cone Leaflet personalizado
      return L.divIcon({
        className: 'custom-marker',
        html: `
          <div class="marker-emoji marker-multi" style="
            background: #5d3a9b;
            font-size: 12px;
            display: grid;
            grid-template-columns: ${gridTemplateColumns};
            grid-template-rows: ${gridTemplateRows};
            padding: ${padding};
            gap: 2px;
          ">
            ${innerHTML}
          </div>
        `,
        iconSize: [36, 36],
        iconAnchor: [18, 36],
        popupAnchor: [0, -36]
      });
    }

    // === MAPA ===
    const map = L.map('map').setView([-23.39, -46.3], 10);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    let markers = [];

    // === LOCAIS (com nova classifica√ß√£o) ===
    const locais = [
      // Chal√© da Pamonha ‚Äî DUAS ENTRADAS: rodovia-br E bar-restaurante
      {
        nome: "Chal√© da Pamonha",
        tipo: "rodovia-br",
        descricao: "Restaurante pet-friendly na Rodovia Presidente Dutra. √Årea externa ampla, card√°pio especial para pets.<br><br><strong>üìç Endere√ßo:</strong> Rod. Pres. Dutra, km 227, Guarulhos - SP",
        posicao: [-23.377615, -46.251841]
      },
      {
        nome: "Chal√© da Pamonha",
        tipo: "bar-restaurante",
        descricao: "Restaurante pet-friendly na Rodovia Presidente Dutra. √Årea externa ampla, card√°pio especial para pets.<br><br><strong>üìç Endere√ßo:</strong> Rod. Pres. Dutra, km 227, Guarulhos - SP",
        posicao: [-23.377615, -46.251841]
      },
      {
        nome: "Chal√© da Pamonha",
        tipo: "rodovia-br",
        descricao: "Unidade na pista sentido S√£o Paulo. √Årea de descanso com grama e bebedouro.<br><br><strong>üìç Endere√ßo:</strong> Rod. Pres. Dutra, km 230, Guarulhos - SP",
        posicao: [-23.387054, -46.273241]
      },
      {
        nome: "Chal√© da Pamonha",
        tipo: "bar-restaurante",
        descricao: "Unidade na pista sentido S√£o Paulo. √Årea de descanso com grama e bebedouro.<br><br><strong>üìç Endere√ßo:</strong> Rod. Pres. Dutra, km 230, Guarulhos - SP",
        posicao: [-23.387054, -46.273241]
      },

      // Hospital Veterin√°rio Faccioni 24h
      {
        nome: "Hospital Veterin√°rio Faccioni 24h",
        tipo: "clinica",
        descricao: "Cl√≠nica veterin√°ria de emerg√™ncia com atendimento 24h para pets.<br><br><strong>üìç Endere√ßo:</strong> Rua Damianopolis 408, Guarulhos, SP, 07070-111.",
        posicao: [-23.451796, -46.559491]
      },

      // === NOVOS SHOPS ===
      { nome: "Shopping Cidade Jardim", tipo: "shopping", descricao: "Shopping pet-friendly com pra√ßa de alimenta√ß√£o e √°reas externas.", posicao: [-23.568044, -46.704308] },
      { nome: "Metro Tatuape Magazine", tipo: "shopping", descricao: "Centro comercial com acesso f√°cil e espa√ßo para pets.", posicao: [-23.541683, -46.576727] },
      { nome: "Shopping Light", tipo: "shopping", descricao: "Local hist√≥rico com lojas e pra√ßa de alimenta√ß√£o pet-friendly.", posicao: [-23.546665, -46.638713] },
      { nome: "Central Plaza Shopping", tipo: "shopping", descricao: "Shopping com pra√ßa de eventos e √°reas permitidas para pets.", posicao: [-23.593246, -46.585194] },
      { nome: "Cantareira Norte Shopping", tipo: "shopping", descricao: "Shopping na zona norte com acesso f√°cil e estacionamento pet.", posicao: [-23.445148, -46.723158] },
      { nome: "Shopping Eldorado", tipo: "shopping", descricao: "Grande centro comercial com pra√ßa de alimenta√ß√£o pet-friendly.", posicao: [-23.572708, -46.695942] },
      { nome: "Shopping Villa Lobos", tipo: "shopping", descricao: "Shopping moderno com √°reas verdes e permitido pets na pra√ßa externa.", posicao: [-23.551090, -46.721977] },
      { nome: "Shopping P√°tio Paulista", tipo: "shopping", descricao: "Localizado na Paulista, com acesso f√°cil e lojas pet-friendly.", posicao: [-23.570711, -46.643444] },
      { nome: "Shopping Aricanduva", tipo: "shopping", descricao: "Um dos maiores shoppings da Am√©rica Latina, com √°reas permitidas para pets.", posicao: [-23.565586, -46.505058] },
      { nome: "Shopping Center Norte", tipo: "shopping", descricao: "Shopping com pra√ßa de alimenta√ß√£o e eventos pet-friendly.", posicao: [-23.517595, -46.617135] },
      { nome: "Shopping Center 3", tipo: "shopping", descricao: "Shopping com lojas e pra√ßa de alimenta√ß√£o acess√≠vel a pets.", posicao: [-23.557562, -46.658626] },
      { nome: "Shopping Vila Ol√≠mpia", tipo: "shopping", descricao: "Shopping sofisticado com √°reas externas permitidas para pets.", posicao: [-23.595623, -46.686806] },
      { nome: "Internacional Shopping-Guarulhos", tipo: "shopping", descricao: "Shopping pr√≥ximo ao aeroporto, com √°reas pet-friendly.", posicao: [-23.488373, -46.549114] },
      { nome: "Plaza Sul Shopping", tipo: "shopping", descricao: "Shopping na zona sul com acesso f√°cil e estacionamento para pets.", posicao: [-23.619902, -46.626778] },
      { nome: "Morumbi Shopping", tipo: "shopping", descricao: "Shopping com pra√ßa de alimenta√ß√£o e lojas que aceitam pets.", posicao: [-23.623426, -46.698776] },
      { nome: "Shopping Iguatemi S√£o Paulo", tipo: "shopping", descricao: "Shopping premium com √°reas externas pet-friendly.", posicao: [-23.577017, -46.688612] },
      { nome: "Shopping West Plaza", tipo: "shopping", descricao: "Shopping na marginal com pra√ßa de alimenta√ß√£o acess√≠vel a pets.", posicao: [-23.527103, -46.674419] },
      { nome: "Shopping Metr√¥ Tucuruvi", tipo: "shopping", descricao: "Conectado ao metr√¥, com lojas e pra√ßa de alimenta√ß√£o pet-friendly.", posicao: [-23.479486, -46.602345] },
      { nome: "Shopping Interlagos", tipo: "shopping", descricao: "Shopping na zona sul com estacionamento e √°reas permitidas para pets.", posicao: [-23.674683, -46.677668] },
      { nome: "Shopping Metr√¥ Boulevard Tatuap√©", tipo: "shopping", descricao: "Shopping conectado ao metr√¥, com pra√ßa de alimenta√ß√£o pet-friendly.", posicao: [-23.538996, -46.576345] },
      { nome: "Santana Shopping", tipo: "shopping", descricao: "Shopping na zona norte com acesso f√°cil e lojas pet-friendly.", posicao: [-23.501083, -46.625675] },
      { nome: "Shopping Ibirapuera", tipo: "shopping", descricao: "Shopping pr√≥ximo ao parque, com √°reas externas permitidas para pets.", posicao: [-23.610197, -46.666843] },
      { nome: "Shopping An√°lia Franco", tipo: "shopping", descricao: "Grande shopping com pra√ßa de alimenta√ß√£o e eventos pet-friendly.", posicao: [-23.560511, -46.560112] },
      { nome: "Shopping Jardim Sul", tipo: "shopping", descricao: "Shopping na zona sul com estacionamento e √°reas permitidas para pets.", posicao: [-23.630970, -46.736034] },
      { nome: "Shopping Cidade Jardim S√£o Paulo", tipo: "shopping", descricao: "Shopping de luxo com √°reas externas e restaurantes pet-friendly.", posicao: [-23.568012, -46.704296] },
      { nome: "Shopping Metr√¥ Santa Cruz", tipo: "shopping", descricao: "Conectado ao metr√¥, com pra√ßa de alimenta√ß√£o acess√≠vel a pets.", posicao: [-23.598877, -46.636810] },
      { nome: "Shopping Sp-Market", tipo: "shopping", descricao: "Shopping com foco em decora√ß√£o e gastronomia, pets permitidos em √°reas externas.", posicao: [-23.678640, -46.698853] },
      { nome: "Shopping Penha", tipo: "shopping", descricao: "Shopping popular com pra√ßa de alimenta√ß√£o pet-friendly.", posicao: [-23.525124, -46.546806] },
      { nome: "Shopping Metr√¥ Itaquera", tipo: "shopping", descricao: "Pr√≥ximo ao est√°dio, com acesso f√°cil e √°reas permitidas para pets.", posicao: [-23.540564, -46.470650] },
      { nome: "Shopping P√°tio Higien√≥polis", tipo: "shopping", descricao: "Shopping sofisticado no centro, com √°reas externas pet-friendly.", posicao: [-23.543043, -46.657547] },
      { nome: "Shopping Parque da Cidade", tipo: "shopping", descricao: "Shopping com pra√ßa de alimenta√ß√£o e lojas que aceitam pets.", posicao: [-23.624552, -46.703888] },

      // === PET DA VILA (em 3 categorias) ===
      {
        nome: "Pet da Vila",
        tipo: "clinica",
        descricao: "Cl√≠nica veterin√°ria completa com atendimento humanizado.<br><br><strong>üìç Endere√ßo:</strong> Rua Maria Eug√™nia Celso, 173, Artur Alvim, S√£o Paulo - SP, 03568-050",
        posicao: [-23.543005, -46.484455]
      },
      {
        nome: "Pet da Vila",
        tipo: "acessorios",
        descricao: "Loja de acess√≥rios premium para pets: coleiras, roupas, brinquedos e muito mais.<br><br><strong>üìç Endere√ßo:</strong> Rua Maria Eug√™nia Celso, 173, Artur Alvim, S√£o Paulo - SP, 03568-050",
        posicao: [-23.543005, -46.484455]
      },
      {
        nome: "Pet da Vila",
        tipo: "banho-tosa",
        descricao: "Servi√ßo de banho e tosa com produtos naturais e ambiente tranquilo para seu pet.<br><br><strong>üìç Endere√ßo:</strong> Rua Maria Eug√™nia Celso, 173, Artur Alvim, S√£o Paulo - SP, 03568-050",
        posicao: [-23.543005, -46.484455]
      }
      // ‚ùå Laborat√≥rio removido conforme solicitado
    ];

    // Identifica locais com m√∫ltiplas fun√ß√µes (baseado no nome)
    const multiFunctionLocations = locais.reduce((acc, local) => {
      acc[local.nome] = (acc[local.nome] || 0) + 1;
      return acc;
    }, {});

    // Fun√ß√£o para verificar se √© multi-fun√ß√£o
    const isMultiFunction = (nome) => multiFunctionLocations[nome] > 1;

    // Fun√ß√£o para pegar todos os tipos de um local pelo nome
    function getTiposByNome(nome) {
      const tipos = [...new Set(locais
        .filter(local => local.nome === nome)
        .map(local => local.tipo)
      )];
      return tipos.map(tipo => {
        switch(tipo) {
          case 'bar-restaurante': return 'üçΩÔ∏è Bar e Restaurante';
          case 'rodovia-br': return 'üõ£Ô∏è Rodovia BR';
          case 'shopping': return 'üõí Shopping';
          case 'hotel': return 'üõèÔ∏è Hotel / Pousada';
          case 'clinica': return 'üè• Cl√≠nica';
          case 'banho-tosa': return 'üõÅ Banho & Tosa';
          case 'acessorios': return 'üõçÔ∏è Acess√≥rios';
          case 'laboratorio': return 'üî¨ Laborat√≥rio';
          default: return tipo;
        }
      }).join(', ');
    }

    // === ADICIONA MARCADORES NO MAPA ===
    function addMarkers(filter) {
      markers.forEach(m => m.remove());
      markers = [];

      locais.forEach(local => {
        // Se for "all", mostra todos. Se n√£o, filtra
        if (filter !== 'all' && local.tipo !== filter) return;

        // Define √≠cone
        let icon;

        // Se estiver em "Todos" E o local for multi-fun√ß√£o ‚Üí gera √≠cone din√¢mico
        if (filter === 'all' && isMultiFunction(local.nome)) {
          // Coleta todos os tipos √∫nicos desse local
          const tipos = [...new Set(locais
            .filter(l => l.nome === local.nome)
            .map(l => l.tipo)
          )];
          icon = createMultiIcon(tipos);
        } else {
          icon = icons[local.tipo];
        }

        const marker = L.marker(local.posicao, { icon }).addTo(map);

        // Popup: mostra todos os tipos se for multi-fun√ß√£o e estiver em "Todos"
        let tipoExibido = local.tipo;
        if (filter === 'all' && isMultiFunction(local.nome)) {
          tipoExibido = getTiposByNome(local.nome);
        } else {
          tipoExibido = tipoExibido === 'bar-restaurante' ? 'üçΩÔ∏è Bar e Restaurante' :
                        tipoExibido === 'rodovia-br' ? 'üõ£Ô∏è Rodovia BR' :
                        tipoExibido === 'shopping' ? 'üõí Shopping' :
                        tipoExibido === 'hotel' ? 'üõèÔ∏è Hotel / Pousada' :
                        tipoExibido === 'clinica' ? 'üè• Cl√≠nica' :
                        tipoExibido === 'banho-tosa' ? 'üõÅ Banho & Tosa' :
                        tipoExibido === 'acessorios' ? 'üõçÔ∏è Acess√≥rios' :
                        'üî¨ Laborat√≥rio';
        }

        let popupContent = `
          <strong>${local.nome}</strong><br>
          <small><b>Tipo:</b> ${tipoExibido}</small><br>
          ${local.descricao}
        `;

        // Adiciona badge se for multi-fun√ß√£o
        if (isMultiFunction(local.nome)) {
          popupContent += `<br><br><span style="background: #5d3a9b; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.85rem;">üìç M√∫ltiplos servi√ßos dispon√≠veis</span>`;
        }

        marker.bindPopup(popupContent);
        markers.push(marker);
      });
    }

    // === FILTROS DO MAPA ===
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const filter = btn.getAttribute('data-filter');
        addMarkers(filter);
      });
    });

    // === LUGARES AMIGOS (com Like/Dislike) ===
    const places = [
      { 
        nome: "Chal√© da Pamonha", 
        tipo: "üçΩÔ∏è Bar e Restaurante, üõ£Ô∏è Rodovia BR", 
        descricao: "Ambiente externo com card√°pio especial para pets.<br><strong>üìç Endere√ßo:</strong> Rod. Pres. Dutra, km 227, Guarulhos - SP" 
      },
      { 
        nome: "Chal√© da Pamonha", 
        tipo: "üçΩÔ∏è Bar e Restaurante, üõ£Ô∏è Rodovia BR", 
        descricao: "√Årea de descanso com grama e bebedouro.<br><strong>üìç Endere√ßo:</strong> Rod. Pres. Dutra, km 230, Guarulhos - SP" 
      },
      { 
        nome: "Hospital Veterin√°rio Faccioni 24h", 
        tipo: "üè• Cl√≠nica Veterin√°ria", 
        descricao: "Atendimento 24h para emerg√™ncias com equipamentos modernos.<br><strong>üìç Endere√ßo:</strong> Rua Damianopolis 408, Guarulhos, SP, 07070-111." 
      },
      { 
        nome: "Shopping Eldorado", 
        tipo: "üõí Shopping", 
        descricao: "Grande centro comercial com pra√ßa de alimenta√ß√£o pet-friendly." 
      },
      { 
        nome: "Shopping Iguatemi S√£o Paulo", 
        tipo: "üõí Shopping", 
        descricao: "Shopping premium com √°reas externas pet-friendly." 
      },
      { 
        nome: "Pet da Vila", 
        tipo: "üè• Cl√≠nica, üõÅ Banho & Tosa, üõçÔ∏è Acess√≥rios", 
        descricao: "Completo atendimento para seu pet.<br><strong>üìç Endere√ßo:</strong> Rua Maria Eug√™nia Celso, 173, Artur Alvim, S√£o Paulo - SP, 03568-050" 
      }
    ];

    function renderPlaces() {
      const container = document.getElementById('places-list');
      container.innerHTML = '';

      places.forEach((place, index) => {
        const likes = localStorage.getItem(`like-${index}`) || "0";
        const dislikes = localStorage.getItem(`dislike-${index}`) || "0";

        const card = document.createElement('div');
        card.className = 'place-card';
        card.innerHTML = `
          <div class="place-name">${place.nome}</div>
          <div class="place-type">${place.tipo}</div>
          <div class="place-desc">${place.descricao}</div>
          <div class="feedback">
            <button class="btn-like" data-index="${index}" title="Gostei">üëç <span class="count-like">${likes}</span></button>
            <button class="btn-dislike" data-index="${index}" title="N√£o gostei">üëé <span class="count-dislike">${dislikes}</span></button>
          </div>
        `;
        container.appendChild(card);
      });

      // Eventos de curtida
      document.querySelectorAll('.btn-like').forEach(btn => {
        btn.addEventListener('click', function () {
          const index = this.getAttribute('data-index');
          let count = parseInt(localStorage.getItem(`like-${index}`) || "0");
          count++;
          localStorage.setItem(`like-${index}`, count.toString());
          this.querySelector('.count-like').textContent = count;
        });
      });

      document.querySelectorAll('.btn-dislike').forEach(btn => {
        btn.addEventListener('click', function () {
          const index = this.getAttribute('data-index');
          let count = parseInt(localStorage.getItem(`dislike-${index}`) || "0");
          count++;
          localStorage.setItem(`dislike-${index}`, count.toString());
          this.querySelector('.count-dislike').textContent = count;
        });
      });
    }

    // === RECOMENDADOS ===
    const recomendados = [
      { 
        nome: "Chal√© da Pamonha", 
        tipo: "bar-restaurante", 
        descricao: "Ambiente externo pet-friendly com card√°pio especial.<br><strong>üìç Endere√ßo:</strong> Rod. Pres. Dutra, km 227, Guarulhos - SP" 
      },
      { 
        nome: "Chal√© da Pamonha", 
        tipo: "rodovia-br", 
        descricao: "√Årea de descanso com grama e bebedouro.<br><strong>üìç Endere√ßo:</strong> Rod. Pres. Dutra, km 230, Guarulhos - SP" 
      },
      { 
        nome: "Hospital Veterin√°rio Faccioni 24h", 
        tipo: "clinica", 
        descricao: "Atendimento veterin√°rio de emerg√™ncia 24h.<br><strong>üìç Endere√ßo:</strong> Rua Damianopolis 408, Guarulhos, SP, 07070-111." 
      },
      { 
        nome: "Shopping Villa Lobos", 
        tipo: "shopping", 
        descricao: "√Åreas externas permitidas e pra√ßa de alimenta√ß√£o pet-friendly." 
      },
      { 
        nome: "Shopping Ibirapuera", 
        tipo: "shopping", 
        descricao: "Pr√≥ximo ao parque, ideal para passear com seu pet antes ou depois das compras." 
      },
      { 
        nome: "Pet da Vila", 
        tipo: "clinica", 
        descricao: "Excelente atendimento veterin√°rio em S√£o Paulo.<br><strong>üìç Endere√ßo:</strong> Rua Maria Eug√™nia Celso, 173, Artur Alvim, S√£o Paulo - SP, 03568-050" 
      },
      { 
        nome: "Pet da Vila", 
        tipo: "acessorios", 
        descricao: "Melhor loja de acess√≥rios premium para pets da regi√£o.<br><strong>üìç Endere√ßo:</strong> Rua Maria Eug√™nia Celso, 173, Artur Alvim, S√£o Paulo - SP, 03568-050" 
      },
      { 
        nome: "Pet da Vila", 
        tipo: "banho-tosa", 
        descricao: "Banho e tosa com carinho e produtos de qualidade.<br><strong>üìç Endere√ßo:</strong> Rua Maria Eug√™nia Celso, 173, Artur Alvim, S√£o Paulo - SP, 03568-050" 
      }
    ];

    function renderRecomendados(filter) {
      const container = document.getElementById('recommendations-list');
      container.innerHTML = '';

      const filtered = recomendados.filter(item => {
        if (filter === 'bar-restaurante') return item.tipo === 'rodovia-br' || item.tipo === 'bar-restaurante';
        return filter === 'all' || item.tipo === filter;
      });

      if (filtered.length === 0) {
        container.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: #718096;">Nenhum local encontrado.</p>';
        return;
      }

      filtered.forEach(item => {
        const tipoExibido = item.tipo === 'bar-restaurante' || item.tipo === 'rodovia-br' ? 'üçΩÔ∏è Bar e Restaurante, üõ£Ô∏è Rodovia BR' : 
                           item.tipo === 'shopping' ? 'üõí Shopping' : 
                           item.tipo === 'hotel' ? 'üõèÔ∏è Hotel / Pousada' : 
                           item.tipo === 'clinica' ? 'üè• Cl√≠nica' : 
                           item.tipo === 'banho-tosa' ? 'üõÅ Banho & Tosa' : 
                           item.tipo === 'acessorios' ? 'üõçÔ∏è Acess√≥rios' :
                           'üî¨ Laborat√≥rio';

        const card = document.createElement('div');
        card.className = 'recommend-card';
        card.innerHTML = `
          <div class="recommend-name">${item.nome}</div>
          <div class="recommend-type">${tipoExibido}</div>
          <div class="recommend-desc">${item.descricao}</div>
        `;
        container.appendChild(card);
      });
    }

    // Eventos dos filtros de recomendados
    document.querySelectorAll('.filter-reco').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.filter-reco').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const filter = btn.getAttribute('data-reco');
        renderRecomendados(filter);
      });
    });

    // Inicializa tudo
    addMarkers('all');
    renderPlaces();
    renderRecomendados('all');
  </script>
</body>
</html>
